<?php

/**
 * Default view for the data querying module.
 * @package views
 */
?>
  	
<!-- Production mode start
<script type="text/javascript" src="<?= $this->baseUrl('js/extjs/adapter/ext/ext-base.js') ?>"></script>
<script type="text/javascript" src="<?= $this->baseUrl('js/extjs/ext-all.js') ?>"></script>
< Production mode end --> 
<!-- Debug mode start -->
<script type="text/javascript" src="<?= $this->baseUrl('js/extjs/adapter/ext/ext-base-debug.js') ?>"></script>
<script type="text/javascript" src="<?= $this->baseUrl('js/extjs/ext-all-debug.js') ?>"></script>
<!-- Debug mode end -->
<script type="text/javascript">
    Ext.namespace('Genapp');
    Genapp.base_url = "<?= $this->baseUrl('query/..'); ?>/";
    Genapp.ajax_query_url = "<?= $this->baseUrl('query') ?>/";
</script>
<script type="text/javascript" src="<?= $this->baseUrl('js/genapp/source/genapp.js') ?>"></script>
<script type="text/javascript" src="<?= $this->baseUrl('js/OpenLayers/OpenLayers.js') ?>"></script>
<script type="text/javascript" src="<?= $this->baseUrl('js/GeoExt/script/GeoExt.js') ?>"></script>

<script type="text/javascript" src="<?= $this->baseUrl('map/get-map-parameters') ?>" ></script>

<script type="text/javascript" src="<?= $this->baseUrl('js/genapp/source/openlayers/FeatureInfoControl.js') ?>"></script>


<!--  Warning : Do not edit the following lines, they are used by the build script -->

<!-- Production mode start
<script type="text/javascript" src="<?= $this->baseUrl('js/genapp/genapp.pack-min.js') ?>"></script>
< Production mode end --> 

<!-- Debug mode start -->
<script type="text/javascript" src="<?= $this->baseUrl('js/genapp/source/widgets/FieldForm.js') ?>"></script>
<script type="text/javascript" src="<?= $this->baseUrl('js/genapp/source/widgets/GeoPanel.js') ?>"></script>
<script type="text/javascript" src="<?= $this->baseUrl('js/genapp/source/widgets/ConsultationPanel.js') ?>"></script>
<script type="text/javascript" src="<?= $this->baseUrl('js/genapp/source/widgets/PredefinedRequestPanel.js') ?>"></script>
<script type="text/javascript" src="<?= $this->baseUrl('js/genapp/source/widgets/DocSearchPage.js') ?>"></script>
<script type="text/javascript" src="<?= $this->baseUrl('js/genapp/source/widgets/PdfComponent.js') ?>"></script>
<script type="text/javascript" src="<?= $this->baseUrl('js/genapp/source/widgets/CardPanel.js') ?>"></script>
<script type="text/javascript" src="<?= $this->baseUrl('js/genapp/source/widgets/DetailsPanel.js') ?>"></script>
<script type="text/javascript" src="<?= $this->baseUrl('js/genapp/source/widgets/GridDetailsPanel.js') ?>"></script>
<script type="text/javascript" src="<?= $this->baseUrl('js/genapp/source/widgets/CardGridDetailsPanel.js') ?>"></script>
<script type="text/javascript" src="<?= $this->baseUrl('js/genapp/source/widgets/form/DateRangeField.js') ?>"></script>
<script type="text/javascript" src="<?= $this->baseUrl('js/genapp/source/widgets/form/NumberRangeField.js') ?>"></script>
<script type="text/javascript" src="<?= $this->baseUrl('js/genapp/source/widgets/form/TwinNumberField.js') ?>"></script>
<script type="text/javascript" src="<?= $this->baseUrl('js/genapp/source/widgets/form/GeometryField.js') ?>"></script>
<script type="text/javascript" src="<?= $this->baseUrl('js/genapp/source/widgets/form/TreeField.js') ?>"></script>
<script type="text/javascript" src="<?= $this->baseUrl('js/genapp/source/widgets/form/TaxrefField.js') ?>"></script>
<script type="text/javascript" src="<?= $this->baseUrl('js/genapp/source/widgets/form/menu/NumberRangeMenu.js') ?>"></script>
<script type="text/javascript" src="<?= $this->baseUrl('js/genapp/source/widgets/form/menu/DateRangeMenu.js') ?>"></script>
<script type="text/javascript" src="<?= $this->baseUrl('js/genapp/source/widgets/form/menu/TreeMenu.js') ?>"></script>
<script type="text/javascript" src="<?= $this->baseUrl('js/genapp/source/widgets/form/menu/TaxrefMenu.js') ?>"></script>
<script type="text/javascript" src="<?= $this->baseUrl('js/genapp/source/widgets/form/picker/NumberRangePicker.js') ?>"></script>
<script type="text/javascript" src="<?= $this->baseUrl('js/genapp/source/widgets/form/picker/DateRangePicker.js') ?>"></script>
<script type="text/javascript" src="<?= $this->baseUrl('js/genapp/source/widgets/form/picker/TreePicker.js') ?>"></script>
<script type="text/javascript" src="<?= $this->baseUrl('js/genapp/source/widgets/form/picker/TaxrefPicker.js') ?>"></script>
<script type="text/javascript" src="<?= $this->baseUrl('js/genapp/source/widgets/tree/LayerTreePanel.js') ?>"></script>
<script type="text/javascript" src="<?= $this->baseUrl('js/genapp/source/widgets/tree/ContextMenuPlugin.js') ?>"></script>
<script type="text/javascript" src="<?= $this->baseUrl('js/genapp/source/widgets/map/LayerSelector.js') ?>"></script>
<script type="text/javascript" src="<?= $this->baseUrl('js/extjsux/rowExpander/RowExpander.js') ?>"></script>
<script type="text/javascript" src="<?= $this->baseUrl('js/extjsux/basiccheckbox/BasicCheckBox.js') ?>"></script>
<script type="text/javascript" src="<?= $this->baseUrl('js/extjsux/datePatch/datePatchExtjs3.1.1.js') ?>"></script>
<!-- Debug mode end -->

<!-- Translations -->
<?php $locale = Zend_Registry::get('Zend_Locale'); ?>
<script type="text/javascript" src="<?= $this->baseUrl('js/extjs/src/locale/ext-lang-'.$locale.'.js') ?>"></script>
<?php if ($locale != 'en') {?>
<script type="text/javascript" src="<?= $this->baseUrl('js/genapp/source/locale/genapp-lang-'.$locale.'.js') ?>"></script>
<?php }?>
<!-- Conf genapp -->
<script type="text/javascript" src="<?= $this->baseUrl('js/genapp.conf.js') ?>"></script>
<script type="text/javascript" src="<?= $this->baseUrl('query/getGridParameters') ?>" ></script>

<link rel="stylesheet" type="text/css" href="<?= $this->baseUrl('js/extjs/resources/css/ext-all.css') ?>" />
<link rel="stylesheet" type="text/css" href="<?= $this->baseUrl('js/GeoExt/resources/css/geoext-all-debug.css')?>" />

<!-- Gray extend theme -->
<link rel="stylesheet" type="text/css" href="<?= $this->baseUrl('js/extjs/resources/css/xtheme-gray-extend.css') ?>" />
<link rel="stylesheet" type="text/css" href="<?= $this->baseUrl('js/genapp/resources/css/genapp.pack-min.css') ?>" />

<link rel="stylesheet" type="text/css" href="<?= $this->baseUrl('js/extjsux/basiccheckbox/BasicCheckBox.css') ?>" />
<link rel="stylesheet" type="text/css" href="<?= $this->baseUrl('css/extjsux.css') ?>" />

<script type="text/javascript">
    Ext.onReady(function(){
    	Genapp.configure();
    	Genapp.buildApplication();
    	<?php  		
    			if ($this->defaultTab == 'predefined') {
    	    		echo "Genapp.cardPanel.activate(0);";
    			}
    	?>
    });
</script>

<div id='page'></div>

<!-- Fields required for history management -->
<form id="history-form" class="x-hidden">
    <input type="hidden" id="x-history-field" />
    <iframe id="x-history-frame"></iframe>
</form>

